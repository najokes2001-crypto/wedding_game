<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Давайте знакомиться</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            font-size: 24px;
        }
        
        .main {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            width: 100%;
            max-width: 1800px;
        }
        
        h1 {
            color: #e91e63;
            margin-bottom: 20px;
            font-size: 48px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #555;
            margin: 15px 0;
            font-size: 32px;
        }
        
        h3 {
            font-size: 28px;
        }
        
        .my_image {
            width: 100%;
            max-width: 800px;
            height: 600px;
            object-fit: cover;
            border-radius: 15px;
            border: 6px solid #ffeb3b;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .my_button {
            background: linear-gradient(45deg, #e91e63, #ff4081);
            color: white;
            border: none;
            padding: 20px;
            margin: 12px 0;
            border-radius: 30px;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            max-width: 500px;
            font-weight: bold;
        }
        
        .my_button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233,30,99,0.3);
        }
        
        .my_button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        #game-content {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: flex-start;
            gap: 40px;
            margin: 25px 0;
        }
        
        #image-container {
            flex: 1;
            max-width: 800px;
        }
        
        #buttons-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            min-width: 500px;
        }
        
        #score {
            color: #4caf50;
            font-weight: bold;
            font-size: 32px;
        }
        
        #attempts {
            color: #2196f3;
            font-weight: bold;
            font-size: 32px;
        }
        
        footer {
            margin-top: 30px;
            color: #888;
            font-size: 22px;
        }
        
        .score-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 3px solid #e0e0e0;
        }
        
        .correct {
            background: linear-gradient(45deg, #4caf50, #8bc34a) !important;
        }
        
        .incorrect {
            background: linear-gradient(45deg, #f44336, #ff5252) !important;
        }
        
        .game-over {
            font-size: 42px;
            color: #e91e63;
            margin: 30px 0;
            font-weight: bold;
        }
        
        .image-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .result-page {
            display: none;
        }
        
        .result-icon {
            font-size: 100px;
            margin: 25px 0;
        }
        
        .guest-name {
            font-size: 52px;
            color: #e91e63;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .guest-status {
            font-size: 36px;
            color: #555;
            margin: 15px 0;
            font-weight: bold;
        }
        
        .facts-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: left;
        }
        
        .fact-item {
            margin: 15px 0;
            font-size: 26px;
            color: #333;
            line-height: 1.4;
        }
        
        .next-button {
            background: linear-gradient(45deg, #2196f3, #21cbf3);
            color: white;
            border: none;
            padding: 22px;
            margin: 25px 0;
            border-radius: 30px;
            font-size: 32px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            max-width: 450px;
            font-weight: bold;
        }
        
        .next-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33,150,243,0.3);
        }
        
        @media (max-width: 1600px) {
            .main {
                padding: 25px;
            }
            
            h1 {
                font-size: 42px;
            }
            
            h2 {
                font-size: 28px;
            }
            
            .my_image {
                max-width: 700px;
                height: 550px;
            }
            
            .my_button {
                font-size: 24px;
                padding: 18px;
                max-width: 450px;
            }
            
            .guest-name {
                font-size: 46px;
            }
            
            .guest-status {
                font-size: 32px;
            }
            
            .result-icon {
                font-size: 90px;
            }
            
            .fact-item {
                font-size: 24px;
            }
            
            .next-button {
                font-size: 28px;
                padding: 20px;
                max-width: 400px;
            }
        }
        
        @media (max-width: 1400px) {
            #game-content {
                flex-direction: column;
                align-items: center;
            }
            
            #buttons-container {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .my_button {
                max-width: 300px;
                margin: 10px;
            }
        }
        
        @media (max-width: 1024px) {
            body {
                font-size: 20px;
                padding: 5px;
            }
            
            .main {
                padding: 20px;
                margin: 5px;
            }
            
            h1 {
                font-size: 36px;
            }
            
            h2 {
                font-size: 26px;
            }
            
            .my_image {
                max-width: 600px;
                height: 500px;
            }
            
            .my_button {
                font-size: 22px;
                padding: 16px;
                max-width: 280px;
            }
            
            .guest-name {
                font-size: 40px;
            }
            
            .guest-status {
                font-size: 28px;
            }
            
            .result-icon {
                font-size: 80px;
            }
            
            .fact-item {
                font-size: 22px;
            }
            
            .next-button {
                font-size: 26px;
                padding: 18px;
                max-width: 350px;
            }
            
            #score, #attempts {
                font-size: 28px;
            }
        }
        
        @media (max-width: 768px) {
            #buttons-container {
                flex-direction: column;
            }
            
            .my_button {
                max-width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 32px;
            }
            
            .my_image {
                max-width: 380px;
                height: 450px;
            }
            
            .my_button {
                font-size: 20px;
                max-width: 300px;
            }
            
            .guest-name {
                font-size: 36px;
            }
            
            .guest-status {
                font-size: 24px;
            }
            
            .result-icon {
                font-size: 70px;
            }
            
            .fact-item {
                font-size: 20px;
            }
            
            .next-button {
                font-size: 24px;
                max-width: 320px;
            }
        }
    </style>
</head>
<body>
    <div class='main'>
        <!-- Основной экран игры -->
        <div id="game-screen">
            <h1>✨ Давайте знакомиться ✨</h1>
            
            <div class="score-container">
                <h2>Всего гостей: <span id="count_pictures">35</span></h2>
                <h2>Правильно: <span id='score'>0</span> из <span id='attempts'>0</span> попыток</h2>
            </div>
            
            <div id="game-content">
                <div class="image-wrapper">
                    <div id="image-container">
                        <!-- Здесь будет отображаться фото -->
                    </div>
                </div>

                <div id="buttons-container">
                    <!-- Здесь будут кнопки с именами -->
                </div>
            </div>
            
            <footer>Создано Настюшей для свадьбы<br>2025 г</footer>
        </div>

        <!-- Экран результата -->
        <div id="result-screen" class="result-page">
            <div id="result-icon" class="result-icon"></div>
            <h2 id="result-text"></h2>
            
            <div class="guest-name" id="guest-name"></div>
            <div class="guest-status" id="guest-status"></div>
            
            <div class="facts-container">
                <h3>Интересные факты:</h3>
                <div id="guest-facts"></div>
            </div>
            
            <button class="next-button" onclick="nextGuest()">Следующий гость →</button>
        </div>
        
        <audio id="tada-sound">
            <source src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" type="audio/mpeg">
        </audio>

        <audio id="wrong-sound">
            <source src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" type="audio/mpeg">
        </audio>
    </div>
    
    <script>
        // Массив с именами файлов фотографий (по порядку)
        var images = [];
        for (var i = 2; i <= 36; i++) {
            images.push("1 (" + i + ").jpg");
        }
        
        // Массив с именами гостей (согласно предоставленному списку, по порядку)
        var guestNames = [
            "Анастасия", "Дмитрий", "Наталья", "Григорий", "Виктор",
            "Алексей", "Ольга", "Наталья", "Ольга", "Роман",
            "Лилия", "Даниил", "Илья", "Наталья", "Даниил",
            "Антонина", "Дмитрий", "Алена", "Илья", "Дмитрий",
            "Мария", "Анастасия", "Влад", "Любовь", "Любовь",
            "Роман", "Светлана", "Анастасия", "Анастасия", "Анна",
            "Ярослав", "Иван", "Илья", "Любовь", "Марина", "Эдгар"
        ];

        // Массив со статусами гостей
        var guestStatuses = [
            "Невеста", "Жених", "Мама невесты", "Папа невесты", "Брат невесты",
            "Папа жениха", "Мачеха жениха", "Бабушка жениха", "Бабушка невесты", "Брат жениха",
            "Сестра жениха", "Брат невесты", "Дядя невесты", "Крестная/тетя невесты", "Друг жениха",
            "Вторая половинка друга жениха", "Друг жениха", "Подруга жениха", "Друг жениха", "Друг жениха",
            "Подруга жениха", "Подруга невесты", "Друг жениха", "Подруга невесты", "Подруга невесты",
            "Друг невесты", "Подруга невесты", "Подруга невесты", "Подруга невесты", "Подруга невесты",
            "Друг невесты", "Друг жениха", "Друг невесты", "Сводная сестра", "Тетя невесты", "Брат невесты"
        ];

        // Массив с фактами о гостях
        var guestFacts = [
            ["Самая обаятельная и привлекательная - так как составляю игру я, могу себе позволить так написать", "В детстве разнесла полкухни родителей ради одной конфетки", "Жених считает, что у меня шило в одном месте - ложь и провокация"],
            ["Теперь может называть самой обаятельной и привлекательной только одну Настю", "Доставит детское кресло на любой вкус и возраст", "С детства любитель поесть, но не так - как Настенька"],
            ["Бухгалтер по профессии", "Терпит дочь-скорпиона всю жизнь", "Не показывайте ей таксу с грустными глазами - она заберет её домой"],
            ["Инженер, который собрал и разобрал микру невесты 129384839 раз", "Мастер громкого молчания и всегда всё видит", "Перфекционист в каждом винте и болте"],
            ["По образованию - электрик, в душе - кузнец своего счастья", "На любое мероприятие надо брать Витю - оживит даже похороны", "Человек-праздник, кузнец атмосферы"],
            ["Папа четверых детей - профессионал многозадачности", "Коллекционер винтажностей (или просто не любит выкидывать 'хлам')", "В душе - пилот Boeing 747, на земле - водитель семейного автобуса"],
            ["Врач от Бога и по призванию", "Закармливает супруга витаминками вместо таблеток", "Приучила жениха к чистоте не руганью, а личным примером"],
            ["Мастер по камням и ювелирному делу", "Неравнодушна к бездомным животным - сердце из золота", "Голодным от неё не уйти - накормит даже случайного прохожего"],
            ["Не останется незаметной даже в толпе из 1000 человек", "Споёт для вас по первому требованию (а иногда и без)", "Пантера с царской грацией и голосом соловья"],
            ["Расскажет всё о метро и его работе - ходячая энциклопедия", "Сомелье в душе, знаток хороших напитков", "Главный повар сегодняшнего вечера - доверьтесь его вкусу"],
            ["Жулик в хорошем смысле этого слова", "Знаток японского автопрома до винтика", "День без приключений - вообще не день в его календаре"],
            ["Любитель гражданской обороны и выживания в любых условиях", "Закопал кучу 'кладов' в огороде с невестой в детстве", "Химик, возможно ядерщик - лучше не злить"],
            ["Большой босс", "Любит Наташеньку больше жизни", "Самая популярная марка авто в мире - его любимая игрушка"],
            ["Вытягивает трёх мужчин одновременно", "'Чёрный принц' навсегда в сердечке невесты", "'Рыбонька моя пучеглазая!"],
            ["Больше не пьющий человек (подробности опустим)", "Влюблён в немецкий автопром сильнее, чем в первую любовь", "Бывший юрист, ныне - свободный министерщик"],
            ["Главный мемолог этого вечера", "Хранитель очага и семейных традиций", "Будущий маркетолог"],
            ["Хочет вторую дочь - готов к героическим подвигам", "Будущий министр или хотя бы директор чего-нибудь", "'Чисто? грязно? поехали!"],
            ["Мама одной прекрасной малышки (пока что одной!)", "Если кот - то только тигр! Мелких не признаёт", "Главный фотограф семейных мероприятий"],
            ["Илья-Илья - автомобильных дел мастер", "'А пальчиком поводить?'", "Починит всё, что ломается, и даже то, что ещё целое"],
            ["IT-специалист, скоро выучит все языки программирования мира", "Его не победить в Mortal Kombat - готовьтесь к поражению", "Полиглот в мире технологий и не только"],
            ["Маленький хомяк с бесконечной энергией атомного реактора", "Любитель настольных игр - проиграть невозможно", "Деловая перец-хозяйка"],
            ["Пережила художественную школу на два года дольше, чем невеста", "Была частью цепочки знакомства жениха и невесты - сваха года", "Тонкая творческая натура, но с крепкой целеустремленностью"],
            ["Человек со скрытыми возможностями - всегда удивляет", "Если есть увлечение - отдается ему с головой и душой", "Ключевой человек в цепочке знакомства жениха и невесты"],
            ["Экономист, закупщик, планировщик", "Амбассадор Dr. Martens в свободное от работы время", "Кто не знает Любочку... Люба лучше всех!"],
            ["Бухгалтер", "Сексуально танцует в Instagram - подписывайтесь!", "Знает невесту более 20 лет"],
            ["Завод - второй дом, работа - вторая жена", "Живёт по принципу 'Как Люба скажет'", "Не забыл взять с собой кальян на свадьбу"],
            ["Метролог Лавочкина с идеальным маникюром", "За ноготочками невеста бежит только к ней", "Руководила взводами - прирожденный лидер"],
            ["Тьютор на каблуках и с острым умом", "Дайте ей каблуки - глаз не оторвете от её стиля", "Заразила в детстве невесту синдромом отличницы"],
            ["Закончила МЧС", "20 парашютных прыжков", "Успевала и на бал отличников, и покурить за гаражами"],
            ["Учитель географии и экологии - знает каждую тропинку мира", "В душе - великий путешественник", "'Батя'"],
            ["Юрист из МЧС - сочетание несочетаемого", "Лучший сосед по парте невесты", "Знает кучу секретиков невесты"],
            ["Нюша навеки в его сердце - романтичная душа", "Профессионал настольных игр - готовьтесь к поражению", "Всегда на позитиве - заряжает энергией как батарейка"],
            ["Однажды выточит свой нож", "Легкий на подъем, но 'слабенько-слабенько'", "С ним нужно просто пообщаться, чтобы оценить его по достоинству"],
            ["Хорошая девочка с большими амбициями", "Только-только студентка, но уже будущий директор", "Умная, красивая и полная надежд на будущее"],
            ["Гость, прилетевший на свадьбу из далеких краев", "Главный стресс детства невесты - остаться на кассе одной", "Душа любой компании - где она, там и веселье"],
            ["Закончил МАИ - инженерная элита", "Путешествует по стране благодаря командировкам", "Бывший гимнаст - до сих пор в отличной форме"]
        ];
        
        var score = 0;
        var attempts = 0;
        var currentImageIndex = 0;
        
        // ФИКСИРОВАННЫЙ ПОРЯДОК ГОСТЕЙ
        // Определяем порядок отображения гостей (номера соответствуют индексам в массивах)
        var fixedOrder = [
            0, 1,    // Невеста и жених первые
            2, 3, 4, // Родители невесты и брат
            5, 6, 7, 8, // Родители жениха и бабушки
            9, 10,   // Брат и сестра жениха
            11, 12, 13, 14, // Брат невесты, дядя, крестная, друг
            15, 16, 17, 18, 19, // Друзья жениха и их половинки
            20, 21, 22, 23, 24, // Подруги жениха и невесты
            25, 26, 27, 28, 29, // Друзья и подруги невесты
            30, 31, 32, 33, 34, 35 // Остальные гости
        ];
        
        // Инициализация игры
        function initGame() {
            document.getElementById('count_pictures').textContent = images.length;
            showCurrentImage();
        }
        
        // Функция для отображения текущей картинки
        function showCurrentImage() {
            if (currentImageIndex >= fixedOrder.length) {
                // Все картинки показаны
                showGameOver();
                return;
            }
            
            // Получаем реальный индекс из фиксированного порядка
            var currentRealIndex = fixedOrder[currentImageIndex];
            var currentImage = images[currentRealIndex];
            
            var imageContainer = $("#image-container");
            imageContainer.empty();
            
            // Создаем изображение с обработкой ошибок
            var img = new Image();
            img.className = "my_image";
            img.alt = "Гость " + (currentRealIndex + 1);
            
            img.onload = function() {
                imageContainer.append(img);
                createButtons(guestNames[currentRealIndex], currentRealIndex);
            };
            
            img.onerror = function() {
                imageContainer.html('<div style="color: red; padding: 20px; font-size: 24px;">Фото не найдено: ' + currentImage + '</div>');
                // Пропускаем это фото и переходим к следующему
                setTimeout(function() {
                    currentImageIndex++;
                    showCurrentImage();
                }, 1000);
            };
            
            img.src = currentImage;
        }
        
        // Функция для создания кнопок
        function createButtons(correctName, currentRealIndex) {
            var buttons = [];
            
            // Добавляем правильную кнопку
            buttons.push('<button data-correct="true" class="my_button">' + correctName + '</button>');
            
            // Добавляем 3 случайных неправильных имени
            var wrongNames = [];
            var availableNames = guestNames.filter(name => name !== correctName);
            
            for (var i = 0; i < Math.min(3, availableNames.length); i++) {
                var randomIndex = Math.floor(Math.random() * availableNames.length);
                wrongNames.push(availableNames[randomIndex]);
                availableNames.splice(randomIndex, 1);
            }
            
            wrongNames.forEach(function(name) {
                buttons.push('<button class="my_button">' + name + '</button>');
            });
            
            // Перемешиваем только кнопки
            buttons = shuffleArray(buttons);
            
            // Добавляем кнопки в контейнер
            $('#buttons-container').html(buttons.join(''));
            
            // Обработчики событий для кнопок
            $('.my_button').click(function() {
                var isCorrect = $(this).attr('data-correct') === 'true';
                attempts++;
                
                // Отключаем все кнопки
                $('.my_button').prop('disabled', true);
                
                if (isCorrect) {
                    score++;
                    document.getElementById('score').textContent = score;
                    $('#tada-sound')[0].play();
                    $(this).addClass('correct');
                    showResult(true, currentRealIndex);
                } else {
                    $('#wrong-sound')[0].play();
                    $(this).addClass('incorrect');
                    // Подсвечиваем правильный ответ
                    $('button[data-correct="true"]').addClass('correct');
                    showResult(false, currentRealIndex);
                }
            });
        }
        
        // Функция для перемешивания массива (только для кнопок)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // Показать страницу результата
        function showResult(isCorrect, currentRealIndex) {
            // Скрываем игровой экран, показываем экран результата
            $("#game-screen").hide();
            $("#result-screen").show();
            
            // Устанавливаем иконку и текст результата
            var resultIcon = $("#result-icon");
            var resultText = $("#result-text");
            
            if (isCorrect) {
                resultIcon.html("✅");
                resultText.html("Правильно!").css("color", "#4caf50");
            } else {
                resultIcon.html("❌");
                resultText.html("Неверно").css("color", "#f44336");
            }
            
            // Показываем информацию о госте
            $("#guest-name").text(guestNames[currentRealIndex]);
            $("#guest-status").text(guestStatuses[currentRealIndex]);
            
            // Показываем факты о госте
            var factsHtml = "";
            guestFacts[currentRealIndex].forEach(function(fact, index) {
                factsHtml += '<div class="fact-item">' + (index + 1) + '. ' + fact + '</div>';
            });
            $("#guest-facts").html(factsHtml);
        }
        
        // Перейти к следующему гостю
        function nextGuest() {
            // Скрываем экран результата, показываем игровой экран
            $("#result-screen").hide();
            $("#game-screen").show();
            
            // Переходим к следующему изображению
            currentImageIndex++;
            showCurrentImage();
        }
        
        // Функция завершения игры
        function showGameOver() {
            $('#image-container').html('\
                <div class="game-over">🎉 Игра завершена! 🎉</div>\
                <h3 style="font-size: 32px; margin: 20px 0;">Ваш результат: ' + score + ' из ' + attempts + '</h3>\
                <h3 style="font-size: 32px;">Процент правильных ответов: ' + (attempts > 0 ? Math.round((score / attempts) * 100) : 0) + '%</h3>\
            ');
            $('#buttons-container').empty();
        }
        
        // Запуск игры при загрузке страницы
        $(document).ready(function() {
            initGame();
        });
    </script>
</body>
</html>
